"use strict";(self.webpackChunkShop_Inforce_Frontend=self.webpackChunkShop_Inforce_Frontend||[]).push([[58],{2862:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(8683),o=n(4925),a="InputField_label__su0GK",c="InputField_inputTitle__gI1yK",u="InputField_inputField__niwfm",s=n(3329),i=["inputTitle"];function l(e){var t=e.inputTitle,n=(0,o.Z)(e,i);return(0,s.jsxs)("label",{className:a,children:[(0,s.jsx)("p",{className:c,children:t}),(0,s.jsx)("input",(0,r.Z)({className:u},n))]})}},9215:function(e,t,n){n.d(t,{Z:function(){return u}});var r="PageWrapper_container__NKNYi",o="PageWrapper_bg_page__dDpv1",a="PageWrapper_wrapper__lKrPY",c=n(3329);function u(e){var t=e.children;return(0,c.jsx)("div",{className:o,children:(0,c.jsx)("div",{className:r,children:(0,c.jsx)("div",{className:a,children:t})})})}},8058:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var r=n(885),o=n(2791),a=n(9434),c=n(5581),u=function(e){return e.modal.showModalAddProduct},s=function(e){return e.modal.showModalDeleteProduct},i=function(e){return e.modal.deletedProductId},l=n(2745),d=n(4494),_=n(9215),m=n(2982),p=n(1087),h=n(1755),f=n(8820),v=n(4164),j=n(9126),x="ModalUniversal_modal__backdrop__GcVSK",g="ModalUniversal_modal__content__3pztF",N="ModalUniversal_btnClose__uttkB",P="ModalUniversal_btnClose__icon__w2Hmi",b=n(3329),C=document.querySelector("#modal-root"),A=function(e){var t=e.toggleAction,n=e.children,r=(0,a.I0)();(0,o.useEffect)((function(){return document.addEventListener("keydown",u),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",u),document.body.style.overflow=""}}));var c=function(){r(t(!1))},u=function(e){"Escape"===e.code&&c()};return(0,v.createPortal)((0,b.jsx)("div",{className:x,onClick:function(e){e.currentTarget===e.target&&c()},type:"flipInX",children:(0,b.jsxs)("div",{className:g,children:[(0,b.jsx)("button",{className:N,onClick:c,children:(0,b.jsx)(j.C7Q,{className:P})}),n]})}),C)},Z="ModalDeleteProduct_title__L6d1S",y="ModalDeleteProduct_desc__jL7MV",I="ModalDeleteProduct_buttonWrapper__I4-7E",T="ModalDeleteProduct_buttonConfirm__AKAiu",w="ModalDeleteProduct_buttonCancel__DMvqE";function F(){var e=(0,a.I0)(),t=(0,a.v9)(i);return(0,b.jsxs)(A,{toggleAction:c.OT,children:[(0,b.jsx)("h2",{className:Z,children:"Delete Product?"}),(0,b.jsx)("p",{className:y,children:"The product will be permanently deleted. Are you sure?"}),(0,b.jsxs)("div",{className:I,children:[(0,b.jsx)("button",{className:T,onClick:function(){e(h.Z.deleteProductById(t))},children:"Yes"}),(0,b.jsx)("button",{className:w,onClick:function(){e((0,c.OT)(!1))},children:"No"})]})]})}var k="ProductList_list__p4MKS",D="ProductList_item__mFImT",W="ProductList_link__VWBD5",M="ProductList_img__q7WBP",S="ProductList_productName__cYpF8",L="ProductList_buttonDelete__9C0Qg",E="ProductList_productCount__9Qnso";function V(){var e=(0,a.v9)(l.t.products),t=(0,a.v9)(l.t.sortedValue),n=(0,a.I0)(),r=(0,m.Z)(e).sort((function(e,n){return"name"===t?e.name.localeCompare(n.name):"count"===t?(console.log("a.count",e.count),n.count-e.count):1}));(0,o.useEffect)((function(){n(h.Z.getAllProducts())}),[n]);var u=(0,a.v9)(s);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("ul",{className:k,children:r.map((function(e){return(0,b.jsxs)("li",{className:D,children:[(0,b.jsx)("button",{className:L,onClick:function(){var t;t=e._id,n((0,c.O$)(t)),n((0,c.OT)(!0))},children:(0,b.jsx)(f.VPh,{size:20})}),(0,b.jsxs)(p.rU,{className:W,to:"/".concat(e._id),children:[(0,b.jsx)("img",{className:M,src:e.imageUrl,alt:"Img product"}),(0,b.jsx)("h2",{className:S,children:e.name}),(0,b.jsx)("p",{className:E,children:"Count: ".concat(e.count)})]})]},e._id)}))}),u&&(0,b.jsx)(F,{})]})}var z=n(5562),H=n(7619),K=n(2862),G={formWrapper:"AddProductForm_formWrapper__YDqzr",form:"AddProductForm_form__OFEIg",sizeWrapper:"AddProductForm_sizeWrapper__AZP4Z",button:"AddProductForm_button__20iRW",sizeTitle:"AddProductForm_sizeTitle__E-i+J"};function U(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),n=t[0],c=t[1],u=(0,o.useState)(null),s=(0,r.Z)(u,2),i=s[0],d=s[1],_=(0,o.useState)(""),m=(0,r.Z)(_,2),p=m[0],f=m[1],v=(0,o.useState)(0),j=(0,r.Z)(v,2),x=j[0],g=j[1],N=(0,o.useState)(0),P=(0,r.Z)(N,2),C=P[0],A=P[1],Z=(0,o.useState)(0),y=(0,r.Z)(Z,2),I=y[0],T=y[1],w=(0,o.useState)(""),F=(0,r.Z)(w,2),k=F[0],D=F[1],W=(0,a.I0)(),M=(0,a.v9)(l.t.isLoadingProducts);return(0,b.jsxs)("div",{className:G.formWrapper,children:[(0,b.jsx)("form",{encType:"multipart/form-data",children:(0,b.jsxs)("label",{className:G.label,children:[(0,b.jsx)("p",{className:G.inputTitle,children:"Product photo"}),(0,b.jsx)("input",{type:"file",name:"productImg",onChange:function(e){var t=e.target.value,n=e.target.files[0],r=t.split(".").at(-1);if("png"!==r&&"jpeg"!==r&&"jpg"!==r)return z.Notify.failure("Invalid image format. It has to be: PNG, JPEG or JPG"),c(""),void d(null);var o=new FormData;o.append("product_img",n),c(t),d(o)},value:n})]})}),(0,b.jsxs)("form",{className:G.form,children:[(0,b.jsx)(K.Z,{inputTitle:"Product Name",type:"text",name:"productName",onChange:function(e){f(e.target.value)},value:p}),(0,b.jsx)(K.Z,{inputTitle:"Count",type:"number",name:"count",onChange:function(e){g(e.target.valueAsNumber)},value:x}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:G.sizeTitle,children:"Size:"}),(0,b.jsxs)("div",{className:G.sizeWrapper,children:[(0,b.jsx)(K.Z,{inputTitle:"Width",type:"number",name:"width",onChange:function(e){A(e.target.valueAsNumber)},value:C}),(0,b.jsx)(K.Z,{inputTitle:"Height",type:"number",name:"height",onChange:function(e){T(e.target.valueAsNumber)},value:I})]})]}),(0,b.jsx)(K.Z,{inputTitle:"Weight",type:"text",name:"weight",onChange:function(e){D(e.target.value)},value:k}),(0,b.jsx)("button",{className:G.button,onClick:function(e){e.preventDefault();var t={imgProductFile:i,productName:p,productCount:x,productWidth:C,productHeight:I,productWeight:k};null!==i&&""!==p&&""!==k?W(h.Z.addProduct(t)):z.Notify.failure("All fields are required")},children:M?(0,b.jsx)(H.a,{height:"20",width:"20"}):"Add product"})]})]})}var Y="ModalAddProduct_title__0FXbS",q=function(){return(0,b.jsxs)(A,{toggleAction:c.XA,children:[(0,b.jsx)("h2",{className:Y,children:"Add Product"}),(0,b.jsx)(U,{})]})},O="DropdownMenu_list__D80T-",B="DropdownMenu_item__g0wxK";function Q(e){var t=e.handleChooseValue;return(0,b.jsxs)("ul",{className:O,children:[(0,b.jsx)("li",{className:B,onClick:function(){t("name")},children:"name"}),(0,b.jsx)("li",{className:B,onClick:function(){t("count")},children:"count"})]})}var X="Homepage_titleWrapper__mArgD",J="Homepage_title__PTGen",R="Homepage_buttonAdd__Pw6vj",$="Homepage_dropWrapper__QV54Y",ee="Homepage_buttonDrop__2E-+o",te=function(){var e=(0,o.useState)(!1),t=(0,r.Z)(e,2),n=t[0],s=t[1],i=(0,a.I0)(),m=(0,a.v9)(u),p=(0,a.v9)(l.t.sortedValue);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_.Z,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:X,children:[(0,b.jsx)("h1",{className:J,children:"Products"}),(0,b.jsxs)("div",{className:$,children:[(0,b.jsx)("button",{className:ee,onClick:function(){s(!n)},children:"Sorted by: ".concat(p)}),n&&(0,b.jsx)(Q,{handleChooseValue:function(e){i((0,d.fd)(e)),s(!n)}})]}),(0,b.jsx)("button",{className:R,onClick:function(){i((0,c.XA)(!0))},children:"Add Product"})]}),(0,b.jsx)(V,{})]})}),m&&(0,b.jsx)(q,{})]})}},2745:function(e,t,n){n.d(t,{t:function(){return r}});var r={products:function(e){return e.products.products},isLoadingProducts:function(e){return e.products.isLoading},sortedValue:function(e){return e.products.sortedValue},currentProduct:function(e){return e.products.currentProduct}}}}]);
//# sourceMappingURL=58.ddf8514b.chunk.js.map